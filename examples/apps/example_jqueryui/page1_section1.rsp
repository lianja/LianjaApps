<%@ Language=VFP %>
<html>
<head>
<script>
if (typeof LianjaAppBuilder === 'undefined') window.Lianja = window.parent.Lianja;
</script>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<title>jQuery UI Example Page</title>
<%
if isServer() or .t.
	? "<link type='text/css' href='../../library/jquery/css/smoothness/jquery-ui.css' rel='stylesheet' />"
	? "<link rel='stylesheet' href='../../library/bootstrap/css/bootstrap.min.css' type='text/css'/>"
	? '<script type="text/javascript" src="../../library/jquery/js/jquery.min.js"></script>'
	? '<script type="text/javascript" src="../../library/jquery/js/jquery-ui.min.js"></script>'
else
	? "<link type='text/css' href='lib:/jquery/css/smoothness/jquery-ui.css' rel='stylesheet' />"
	? "<link rel='stylesheet' href='lib:/bootstrap/css/bootstrap.min.css' type='text/css'/>"
	? '<script type="text/javascript" src="lib:/jquery/js/jquery.min.js"></script>'
	? '<script type="text/javascript" src="lib:/jquery/js/jquery-ui.min.js"></script>'
endif
%>

<style>
#accordionparent { 
	position: absolute;
	top:0px;
	bottom:0px;
	left: 0px;
	right: 0px;
}
#accordion { 
	position: absolute;
	top:0px;
	bottom:0px;
	left: 0px;
	right: 0px;
	background-color: rgb(236,236,236);
}
body {
	overflow: hidden;
}
td > a {
	color: #08C !important;
}
.ui-accordion-content {
	border: 1px solid #AAA !important;
	border-top: 0px !important;
}
</style>

<script type="text/javascript">

function editCustomerID(customerid)
{
	Lianja.showDocument("page:page2?action=search&text="+customerid);
};

window.resizeComponent = function()
{
	var NPANELS = 4;
	var PANELHEADERHEIGHT = 35;
	var heightOfBody = window.innerHeight;
	var panelHeight = heightOfBody - (((NPANELS-1) * PANELHEADERHEIGHT + 73)); 
	if (Lianja.isRuntimeMode()) panelHeight -= (NPANELS+5);
    document.getElementById('accordionparent').style.height = heightOfBody;
    document.getElementById('accordion').style.height = heightOfBody;
    $(".ui-accordion-content").css("height", panelHeight+"px");
    $(".ui-accordion-content").css("max-height", panelHeight+"px");
};

</script>
</head>

<body onload="resizeComponent();" onresize="resizeComponent();">

<!--accordion parent-->
<div id = "accordionparent">	

<!-- Accordion Panels -->
<div id="accordion">

<%
////////////////////////////////////////////////////////////////////////////////////////////////
// save the data session and open the required database and tables
// Note: we could open a Virtual Table and perform a query with:
//
// 		use vt_name where condition
//
// or alternatively perform a SQL SELECT INTO a cursor
//
////////////////////////////////////////////////////////////////////////////////////////////////
save datasession
open database southwind
use customers

////////////////////////////////////////////////////////////////////////////////////////////////
// East Region Accordion Panel
////////////////////////////////////////////////////////////////////////////////////////////////
text raw
<h3><a href="#">East Region</a></h3>
<div>
endtext
list html off ;
	fields customerid,companyname,contacttitle,contactname,address,region,city,country ;  
	onclick "customerid","editCustomerID('{}')" for region = 'East'

////////////////////////////////////////////////////////////////////////////////////////////////
// West Region Accordion Panel
////////////////////////////////////////////////////////////////////////////////////////////////
text raw	
</div>
<h3><a href="#">West Region</a></h3>
<div>
endtext
list html off ;
	fields customerid,companyname,contacttitle,contactname,address,region,city,country ;  
	onclick "customerid","editCustomerID('{}')" for region = 'West'
	
////////////////////////////////////////////////////////////////////////////////////////////////
// North Region Accordion Panel
////////////////////////////////////////////////////////////////////////////////////////////////
text raw
</div>
<h3><a href="#">North Region</a></h3>
<div>
endtext
list html off ;
	fields customerid,companyname,contacttitle,contactname,address,region,city,country ;  
	onclick "customerid","editCustomerID('{}')" for region = 'North'

////////////////////////////////////////////////////////////////////////////////////////////////
// South Region Accordion Panel
////////////////////////////////////////////////////////////////////////////////////////////////
text raw
</div>
<h3><a href="#">South Region</a></h3>
<div>
endtext
list html off ;
	fields customerid,companyname,contacttitle,contactname,address,region,city,country ;  
	onclick "customerid","editCustomerID('{}')" for region = 'South'

text raw
</div>
</div>
</div>
endtext	
restore datasession
%>	
<script>
$(function(){
	$("#accordion").accordion({heightStyle:"fill"});
});
// This prevents fast double clicks from highlighting text in blue on grids and
// other UI elements
document.onselectstart = function() { return false; };
</script>
</body>
</html>


